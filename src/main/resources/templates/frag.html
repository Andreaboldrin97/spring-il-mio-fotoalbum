<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>INSTAFOTO</title>
		<!-- Bootstrap CSS -->
		<link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}"/>
	</head>
	<body>
	
		<!-- HEADER FRAGMENT -->
		<header th:fragment="header-nav">
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			  <div class="container-fluid">
			    <a class="navbar-brand" th:href="@{/}">My...PIZZA</a>
			    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			      <span class="navbar-toggler-icon"></span>
			    </button>
			    <div class="collapse navbar-collapse" id="navbarNav">
			      <ul class="navbar-nav">
			        <li class="nav-item">
			          <a class="nav-link active" aria-current="page" th:href="@{/}">Home</a>
			        </li>
			        <li class="nav-item">
			          <a class="nav-link" th:href="@{/allPizzas}">Foto</a>
			        </li>
			        <li class="nav-item">
			          <a class="nav-link" th:href="@{/drink}">Categorie</a>
			        </li>
			        
			      </ul>
			    </div>
			    
			    <form class="d-flex" action="search">
			        <input class="form-control me-2" type="text" placeholder="Search" name="query" th:value="${query}">
			        <button class="btn btn-outline-success" type="submit">Search</button>
			   </form>
			 	<div>
			   		<a class="mx-2 btn btn-success" th:href="@{/login}">Login</a>
			   </div>
			    <div>
			   		<a class="btn btn-danger" th:href="@{/logout}">Logout</a>
			   </div>
			  </div>
			  <div sec:authorize="isAuthenticated()" class="d-flex">
			  	 <div class="text-white">
				  	Logged: <span sec:authentication="name"></span>
				  </div>
				  <div class="text-white">
					Roles: <span sec:authentication="principal.authorities"></span>
				  </div> 
			  </div>
			</nav>
		</header>
		
		String title, String description, String url, String tag, Boolean isVisible, Category...categories
		<!-- FORM FOTO CRUD FRAGMENT -->
		<th:block th:fragment="form-crud-foto">
			<div class="mb-3">
				<label class="form-label">titolo foto</label>
				<input class="form-control" type="text" name="title" th:field="*{title}">
			</div>
			<div class="mb-3">
				<label class="form-label">Descrizione foto</label>
				<input class="form-control" type="text" name="description" th:field="*{description}">
			</div>
			<div class="mb-3">
				<label class="form-label">Url img foto</label>
				<input class="form-control" type="text" name="url" th:field="*{url}">
			</div>
			<div class="mb-3">
				<label class="form-label">Tag foto</label>
				<input class="form-control" type="text" name="tag" th:field="*{tag}">
			</div>
			<div class="form-check form-switch mb-3">
			  <input class="form-check-input" type="checkbox" role="switch" name="isVisible" th:field="*{isVisible}">
			  <label class="form-check-label" for="flexSwitchCheckDefault">Visibilit√†</label>
			</div>
			<label>Categorie :</label> <br>
			<div	class="d-inline"
					th:each="category : ${categories}"
					th:object="${category}"
				>
				<input 
					type="checkbox" 
					name="categories" 
					
					th:value="*{id}" 
					th:field="${foto.categories}">
				<label>[[*{name}]]</label>
			</div>	
			
			<input type="submit" value="save" class="btn btn-success">
		</th:block>
		
		

	</body>
</html>